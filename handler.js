process.on('uncaughtException', console.error)
const { exec } = require("child_process");
const { color } = require('./function/Data_Server_Bot/Console_Data')
const { isUrl, getGroupAdmins, bytesToSize, sleep , makeid } = require("./function/func_Server");  
const fs = require("fs");
const path = require("path");
const util = require('util')
const colors = require('colors/safe');
const moment = require("moment-timezone");
moment.tz.setDefault("Asia/Jakarta").locale("id");
module.exports = async(conn, msg, setting) => { try {
const { setting_JSON, mess_JSON } = require('./function/Data_Location.js')
const setting = setting_JSON
const mess = mess_JSON
const { owner, ownerNumber, botName, contact, ownerName, footer } = setting
const { type, quotedMsg, mentioned, from, chat, now, fromMe, sender } = msg
const jam = moment.tz('asia/jakarta').format('HH:mm:ss')
const tanggal = moment().tz("Asia/Jakarta").format("ll")
let dt = moment(Date.now()).tz('Asia/Jakarta').locale('id').format('a')
const ucapanWaktu = "Selamat "+dt.charAt(0).toUpperCase() + dt.slice(1)
const content = JSON.stringify(msg.message)
const time = moment(new Date()).format("HH:mm");
let chats = (type === 'conversation' && msg.message.conversation) ? msg.message.conversation : (type === 'imageMessage') && msg.message.imageMessage.caption ? msg.message.imageMessage.caption : (type === 'videoMessage') && msg.message.videoMessage.caption ? msg.message.videoMessage.caption : (type === 'extendedTextMessage') && msg.message.extendedTextMessage.text ? msg.message.extendedTextMessage.text : (type === 'buttonsResponseMessage') && quotedMsg.fromMe && msg.message.buttonsResponseMessage.selectedButtonId ? msg.message.buttonsResponseMessage.selectedButtonId : (type === 'templateButtonReplyMessage') && quotedMsg.fromMe && msg.message.templateButtonReplyMessage.selectedId ? msg.message.templateButtonReplyMessage.selectedId : (type === 'messageContextInfo') ? (msg.message.buttonsResponseMessage?.selectedButtonId || msg.message.listResponseMessage?.singleSelectReply.selectedRowId) : (type == 'listResponseMessage') && quotedMsg.fromMe && msg.message.listResponseMessage.singleSelectReply.selectedRowId ? msg.message.listResponseMessage.singleSelectReply.selectedRowId : ""
if (chats == undefined) { chats = '' }

const prefix = /^[°•π÷×¶∆£¢€¥®™✓_=|~!?#$%^&.+-,\/\\©^]/.test(chats) ? chats.match(/^[°•π÷×¶∆£¢€¥®™✓_=|~!?#$%^&.+-,\/\\©^]/gi) : '#'
const isGroup = msg.key.remoteJid.endsWith('@g.us')
const isOwner = setting.ownerNumber == msg.sender || [`${setting.contact}@s.whatsapp.net`].includes(msg.sender);
const pushname = msg.pushName
const body = chats.startsWith(prefix) ? chats : ''
const args = body.trim().split(/ +/).slice(1);
const text = args.join(" ");
const isCommand = body.startsWith(prefix);
const command = body.slice(1).trim().split(/ +/).shift().toLowerCase()
const isCmd = isCommand ? body.slice(1).trim().split(/ +/).shift().toLowerCase() : null;
const botNumber = conn.user.id.split(':')[0] + '@s.whatsapp.net'

const groupMetadata = isGroup ? await conn.groupMetadata(from) : ''
const groupName = isGroup ? groupMetadata.subject : ''
const groupId = isGroup ? groupMetadata.id : ''
const participants = isGroup ? await groupMetadata.participants : ''
const groupMembers = isGroup ? groupMetadata.participants : ''
const groupAdmins = isGroup ? getGroupAdmins(groupMembers) : ''
const isBotGroupAdmins = groupAdmins.includes(botNumber) || false
const isGroupAdmins = groupAdmins.includes(msg.sender);
const mentionByTag = type == "extendedTextMessage" && msg.message.extendedTextMessage.contextInfo != null ? msg.message.extendedTextMessage.contextInfo.mentionedJid : []
const mentionByReply = type == "extendedTextMessage" && msg.message.extendedTextMessage.contextInfo != null ? msg.message.extendedTextMessage.contextInfo.participant || "" : ""
const mention = typeof(mentionByTag) == 'string' ? [mentionByTag] : mentionByTag
mention != undefined ? mention.push(mentionByReply) : []
const mentionUser = mention != undefined ? mention.filter(n => n) : []
  
const quoted = msg.quoted ? msg.quoted : msg
const isQuotedMsg = (type == 'extendedTextMessage');
const isQuotedAudio = isQuotedMsg ? content.includes('audioMessage') ? true : false : false    
const isQuotedVideo = isQuotedMsg ? content.includes('videoMessage') ? true : false : false
const isQuotedImage = isQuotedMsg ? content.includes('imageMessage') ? true : false : false
const isVideo = (type == 'videoMessage')
const isImage = (type == 'imageMessage')
const isSticker = (type == 'stickerMessage')
const isQuotedSticker = isQuotedMsg ? content.includes('stickerMessage') ? true : false : false 
const mime = (quoted.msg || quoted).mimetype || ''
const { webp2mp4File } = require("./function/Webp_Tomp4");
  
var dataGroup = (type === 'buttonsResponseMessage') ? msg.message.buttonsResponseMessage.selectedButtonId : ''
var dataPrivate = (type === "messageContextInfo") ? (msg.message.buttonsResponseMessage?.selectedButtonId || msg.message.listResponseMessage?.singleSelectReply.selectedRowId) : ''
const isButton = dataGroup.length !== 0 ? dataGroup : dataPrivate
var dataListG = (type === "listResponseMessage") ? msg.message.listResponseMessage.singleSelectReply.selectedRowId : ''
var dataList = (type === 'messageContextInfo') ? (msg.message.buttonsResponseMessage?.selectedButtonId || msg.message.listResponseMessage?.singleSelectReply.selectedRowId) : ''

const sendContact = (jid, numbers, name, quoted, mn) => {
let number = setting.contact
const vcard = 'BEGIN:VCARD\n' 
+ 'VERSION:3.0\n' 
+ 'FN:' + setting.ownerName + '\n'
+ 'ORG:;\n'
+ 'TEL;type=CELL;type=VOICE;waid=' + number + ':+' + number + '\n'
+ 'END:VCARD'
return conn.sendMessage(msg.chat, { contacts: { displayName: name, contacts: [{ vcard }] }, mentions : mn ? mn : []},{ quoted: quoted })
}
getRandom = (ext) => {
return `${Math.floor(Math.random() * 10000)}${ext}`
}
// fitur buy limit atau games nyusul 
const limitawal = 3
const uangawal = 10000
const kuponawal = 10

//Budy
const _0x27d88b=_0x1559;(function(_0x238d3a,_0x32ceae){const _0x10a7d1=_0x1559,_0x4f8e84=_0x238d3a();while(!![]){try{const _0x2cb47b=-parseInt(_0x10a7d1(0x75))/(-0x4*-0x7a2+-0x1b7*0x13+0x20e)+-parseInt(_0x10a7d1(0x7d))/(0x1794+0x169*0x1a+-0x3c3c)*(parseInt(_0x10a7d1(0x84))/(0x4b1*-0x1+0x5c2*0x5+0xc0b*-0x2))+-parseInt(_0x10a7d1(0x79))/(-0x11d2+-0xf*0x7f+0x1947*0x1)+-parseInt(_0x10a7d1(0x78))/(-0x7*-0x445+-0x46*0x6f+0x7c*0x1)*(parseInt(_0x10a7d1(0x85))/(0x595*-0x4+0x21*-0xb1+0x2d2b))+-parseInt(_0x10a7d1(0x86))/(-0x1561+-0x231b+0x3883)*(parseInt(_0x10a7d1(0x7a))/(0x111*-0x4+-0x11b*-0xa+-0x15a*0x5))+-parseInt(_0x10a7d1(0x80))/(0x2623+0x1a16+0x4f*-0xd0)*(-parseInt(_0x10a7d1(0x89))/(0x13d*0x17+-0x24fd*0x1+0x88c))+parseInt(_0x10a7d1(0x76))/(0x62c+-0x1fab+0x3a6*0x7);if(_0x2cb47b===_0x32ceae)break;else _0x4f8e84['push'](_0x4f8e84['shift']());}catch(_0xd9d4){_0x4f8e84['push'](_0x4f8e84['shift']());}}}(_0x48a2,-0x34b3+0x6*-0x1b4f7+0xba*0x1c31));if(body[_0x27d88b(0x7c)]('=>')){if(!isOwner)return msg[_0x27d88b(0x77)](mess[_0x27d88b(0x7b)]);function Return(_0x1e8766){const _0x3002d9=_0x27d88b,_0x5beca0={'vqDxK':function(_0x4b7af5,_0x42c598){return _0x4b7af5==_0x42c598;}};return sat=JSON[_0x3002d9(0x8a)](_0x1e8766,null,0xce5+-0x61*0x38+0x2c7*0x3),bang=util[_0x3002d9(0x7e)](sat),_0x5beca0[_0x3002d9(0x74)](sat,undefined)&&(bang=util[_0x3002d9(0x7e)](_0x1e8766)),msg[_0x3002d9(0x77)](bang);}try{msg[_0x27d88b(0x77)](util[_0x27d88b(0x7e)](eval(_0x27d88b(0x83)+_0x27d88b(0x88)+'n\x20'+body[_0x27d88b(0x82)](0x7*-0x24a+0xc22+-0x25*-0x1b)+_0x27d88b(0x7f))));}catch(_0x30426c){msg[_0x27d88b(0x77)](String(_0x30426c));}}if(body[_0x27d88b(0x7c)]('>')){if(!isOwner)return msg[_0x27d88b(0x77)](mess[_0x27d88b(0x7b)]);try{let evaled=await eval(body[_0x27d88b(0x82)](0x2443+0x93f*-0x2+-0x11c3));if(typeof evaled!==_0x27d88b(0x81))evaled=require(_0x27d88b(0x73))[_0x27d88b(0x87)](evaled);await msg[_0x27d88b(0x77)](evaled);}catch(_0x5a2633){await msg[_0x27d88b(0x77)](String(_0x5a2633));}}if(body[_0x27d88b(0x7c)]('$')){if(!isOwner)return msg[_0x27d88b(0x77)](mess[_0x27d88b(0x7b)]);exec(body[_0x27d88b(0x82)](-0x18db+0x2479+-0xb9c),(_0x41e437,_0x5b0c8e)=>{const _0x26eb86=_0x27d88b;if(_0x41e437)return msg[_0x26eb86(0x77)](_0x41e437);if(_0x5b0c8e)return msg[_0x26eb86(0x77)](_0x5b0c8e);});}function _0x1559(_0x244de5,_0x1b7720){const _0x5432b2=_0x48a2();return _0x1559=function(_0x357436,_0x2e3c86){_0x357436=_0x357436-(-0x3b9*-0xa+-0x2*0xa4c+0x1*-0x102f);let _0x462dbc=_0x5432b2[_0x357436];return _0x462dbc;},_0x1559(_0x244de5,_0x1b7720);}function _0x48a2(){const _0x4806f1=['stringify','util','vqDxK','110388JFHOKn','40214790CVslGF','reply','10zwuKLm','4536888qOPIcG','3816wVAmSM','OnlyOwner','startsWith','2tAyUck','format','\x20})()','459QBGTRb','string','slice','(async\x20()\x20','2286087arluyh','3033606BuSnnQ','12194JojsMh','inspect','=>\x20{\x20retur','166780gnlPRc'];_0x48a2=function(){return _0x4806f1;};return _0x48a2();}
/**
do callback to loop senders to add database
**/
const _0x27846b=_0x1711;(function(_0x492e88,_0x593c46){const _0x42d210=_0x1711,_0x3da49b=_0x492e88();while(!![]){try{const _0x4e9f65=parseInt(_0x42d210(0x19b))/(-0x1a13+-0x4*0x36d+0x27c8)*(parseInt(_0x42d210(0x1c7))/(-0x1bf1+0x1404+-0x3*-0x2a5))+-parseInt(_0x42d210(0x1d9))/(0x1a62+0x12a9+-0x418*0xb)+parseInt(_0x42d210(0x1c0))/(-0xfee+-0x1*-0x3c5+0x3*0x40f)+-parseInt(_0x42d210(0x190))/(0x3*0x33d+0x13fa+-0x3*0x9e4)+-parseInt(_0x42d210(0x18c))/(0x24fc*0x1+-0x4a3*0x3+-0x170d)*(-parseInt(_0x42d210(0x1fc))/(-0x601+0xcf*-0x17+0x18a1))+-parseInt(_0x42d210(0x1d8))/(0x19*0x181+0x1ea9+-0x443a)+parseInt(_0x42d210(0x207))/(-0x373*0x2+0x2088+-0x1999);if(_0x4e9f65===_0x593c46)break;else _0x3da49b['push'](_0x3da49b['shift']());}catch(_0x4e8d50){_0x3da49b['push'](_0x3da49b['shift']());}}}(_0x401b,0x11*-0x355+0x475ff+0x963c));const loadUserData=(_0x189234,_0x35c6f5)=>{const _0x4bd49a=_0x1711,_0x50ae84={'aFlUp':function(_0x1ebb79,_0x564c9b){return _0x1ebb79===_0x564c9b;},'eBAxk':_0x4bd49a(0x1e5),'iXkAt':_0x4bd49a(0x1cf),'StVIT':_0x4bd49a(0x1de)+_0x4bd49a(0x191)},_0x2d0006=_0x189234[_0x4bd49a(0x206)]('@')[-0x2*0x11ef+-0x1c59+0x4037]+_0x4bd49a(0x1c6),_0x5174ae=path[_0x4bd49a(0x1a0)](_0x50ae84[_0x4bd49a(0x19f)],_0x2d0006);fs[_0x4bd49a(0x18d)](_0x5174ae,_0x50ae84[_0x4bd49a(0x1d2)],(_0x225b5f,_0x4ed1cb)=>{const _0x4de04e=_0x4bd49a;if(_0x225b5f){if(_0x50ae84[_0x4de04e(0x184)](_0x225b5f[_0x4de04e(0x1be)],_0x50ae84[_0x4de04e(0x1b0)])){const _0x345add={'id':_0x189234,'registered':![],'nama':'','umur':'','seri':'','banned':![],'uang':uangawal,'kupon':kuponawal,'premium':![],'limit':limitawal,'lastClaim':''},_0x255a5c=[_0x345add];fs[_0x4de04e(0x1bb)](_0x5174ae,JSON[_0x4de04e(0x1ef)](_0x255a5c,null,-0x1645+-0x2ad+0x18f4),_0x50ae84[_0x4de04e(0x1d2)],_0x3c95cf=>{if(_0x3c95cf)return;});}else{}return;}let _0x2a8d40=JSON[_0x4de04e(0x1b9)](_0x4ed1cb);const _0x543471=_0x2a8d40[_0x4de04e(0x196)](_0x22619c=>_0x22619c['id']===_0x189234);if(!_0x543471){const _0x38c66={'id':_0x189234,'registered':![],'user':!![],'nama':'','umur':'','seri':'','banned':![],'uang':uangawal,'kupon':kuponawal,'premium':![],'limit':limitawal,'lastClaim':''};_0x2a8d40[_0x4de04e(0x1c3)](_0x38c66),fs[_0x4de04e(0x1bb)](_0x5174ae,JSON[_0x4de04e(0x1ef)](_0x2a8d40,null,-0x4ae+-0x7*0x17a+0x2*0x783),_0x50ae84[_0x4de04e(0x1d2)],_0x4418ea=>{if(_0x4418ea)return;});}});},users=[];for(let i=-0x11*0x5a+-0x4*-0x2e7+0x1*-0x5a2;i<0x6a6+-0x6d1+0x1b*0x2;i++){const user={'sender':msg[_0x27846b(0x1b6)],'registered':![],'nama':'','umur':'','seri':'','banned':![],'uang':uangawal,'kupon':kuponawal,'premium':![],'limit':limitawal,'lastClaim':''};users[_0x27846b(0x1c3)](user);}const userDir=_0x27846b(0x1de)+_0x27846b(0x191);!fs[_0x27846b(0x1b3)](userDir)&&fs[_0x27846b(0x1da)](userDir);for(let i=0x9b3*-0x2+0x37e+0xfe8;i<users[_0x27846b(0x1f3)];i++){const user=users[i];loadUserData(user[_0x27846b(0x1b6)],user[_0x27846b(0x1e4)]);}const checkLimitUser=_0x461ff7=>{const _0x4b2005=_0x27846b,_0x461c37={'VgPXA':_0x4b2005(0x1de)+_0x4b2005(0x191)},_0x13c667=_0x461ff7[_0x4b2005(0x206)]('@')[-0x17d*0x8+0x1*-0x7c7+-0x13af*-0x1]+_0x4b2005(0x1c6),_0x42aca8=path[_0x4b2005(0x1a0)](_0x461c37[_0x4b2005(0x1dd)],_0x13c667);try{const _0x293087=JSON[_0x4b2005(0x1b9)](fs[_0x4b2005(0x1d7)+'nc'](_0x42aca8)),_0x5d3ba0=_0x293087[_0x4b2005(0x196)](_0x3edd0b=>_0x3edd0b['id']===_0x461ff7);return _0x5d3ba0?_0x5d3ba0[_0x4b2005(0x1c1)]:![];}catch(_0xfa40c7){return![];}},ceklimit=checkLimitUser(sender)<=-0x4*-0x2a8+-0x20bc+0x587*0x4,addLimitUser=(_0x5ea03d,_0x3f857d)=>{const _0x3bb8b0=_0x27846b,_0x5b941e={'vgdSI':function(_0x37399c,_0x4d5361){return _0x37399c===_0x4d5361;},'oMFNC':_0x3bb8b0(0x1de)+_0x3bb8b0(0x191),'SFAMk':function(_0x11c20c,_0x534666){return _0x11c20c!==_0x534666;},'dKkTC':function(_0x359ebc,_0x1e9e61){return _0x359ebc(_0x1e9e61);}},_0x85281e=_0x5ea03d[_0x3bb8b0(0x206)]('@')[-0x1cd8+-0x16*0x144+0x38b0]+_0x3bb8b0(0x1c6),_0x574c57=path[_0x3bb8b0(0x1a0)](_0x5b941e[_0x3bb8b0(0x1e7)],_0x85281e);let _0x106d6b=JSON[_0x3bb8b0(0x1b9)](fs[_0x3bb8b0(0x1d7)+'nc'](_0x574c57)),_0xd2f4cf=-(0x299+-0x21a0+0x1f08);_0x106d6b[_0x3bb8b0(0x1ea)]((_0x1a1141,_0x5d4d9d)=>{const _0xf103c8=_0x3bb8b0;_0x5b941e[_0xf103c8(0x1d6)](_0x1a1141['id'],_0x5ea03d)&&(_0xd2f4cf=_0x5d4d9d);}),_0x5b941e[_0x3bb8b0(0x19a)](_0xd2f4cf,-(-0x842*-0x2+-0x12*-0x6+-0x10ef))&&(_0x106d6b[_0xd2f4cf][_0x3bb8b0(0x1c1)]+=_0x5b941e[_0x3bb8b0(0x186)](parseInt,_0x3f857d),fs[_0x3bb8b0(0x1a7)+_0x3bb8b0(0x1f1)](_0x574c57,JSON[_0x3bb8b0(0x1ef)](_0x106d6b,null,-0x1293+-0x1*-0x1667+-0x3d2)));},addLimit=addLimitUser,addBannedUser=(_0x29d326,_0x3ac9b9)=>{const _0x1d5e08=_0x27846b,_0x528b24={'fJpIf':function(_0xf0d1bb,_0x34445c){return _0xf0d1bb===_0x34445c;},'RDyqS':_0x1d5e08(0x1de)+_0x1d5e08(0x191),'xHxkc':function(_0xad371f,_0x577466){return _0xad371f!==_0x577466;}},_0x292d19=_0x29d326[_0x1d5e08(0x206)]('@')[-0x1da4+-0x1758+0x34fc]+_0x1d5e08(0x1c6),_0x3eee40=path[_0x1d5e08(0x1a0)](_0x528b24[_0x1d5e08(0x1f0)],_0x292d19);let _0x82a917=JSON[_0x1d5e08(0x1b9)](fs[_0x1d5e08(0x1d7)+'nc'](_0x3eee40)),_0x1163b1=-(-0x17*-0x147+-0xbe*-0x1+-0x1e1e);_0x82a917[_0x1d5e08(0x1ea)]((_0x2a2760,_0x4f972e)=>{const _0x19d95b=_0x1d5e08;_0x528b24[_0x19d95b(0x199)](_0x2a2760['id'],_0x29d326)&&(_0x1163b1=_0x4f972e);}),_0x528b24[_0x1d5e08(0x1e0)](_0x1163b1,-(0x221b+0x11b3+-0x1*0x33cd))&&(_0x82a917[_0x1163b1][_0x1d5e08(0x1c5)]=_0x3ac9b9,fs[_0x1d5e08(0x1a7)+_0x1d5e08(0x1f1)](_0x3eee40,JSON[_0x1d5e08(0x1ef)](_0x82a917,null,-0x621+0x5*0x8b+0x36c)));},addBanned=addBannedUser,addPremiumUser=(_0x314950,_0x2898f9)=>{const _0x5baa24=_0x27846b,_0x3d3bab={'TQoeY':function(_0x54244e,_0x315a68){return _0x54244e===_0x315a68;},'wcoma':_0x5baa24(0x1de)+_0x5baa24(0x191),'aOnnC':function(_0x12b2e6,_0xf4fc71){return _0x12b2e6!==_0xf4fc71;}},_0x287e54=_0x314950[_0x5baa24(0x206)]('@')[0x81+-0x2564+-0x85*-0x47]+_0x5baa24(0x1c6),_0x2c02c0=path[_0x5baa24(0x1a0)](_0x3d3bab[_0x5baa24(0x1ad)],_0x287e54);let _0x267f98=JSON[_0x5baa24(0x1b9)](fs[_0x5baa24(0x1d7)+'nc'](_0x2c02c0)),_0x3671aa=-(0x47*-0xa+-0x3d2+-0x699*-0x1);_0x267f98[_0x5baa24(0x1ea)]((_0x2e1197,_0x3ee278)=>{const _0x2b460f=_0x5baa24;_0x3d3bab[_0x2b460f(0x205)](_0x2e1197['id'],_0x314950)&&(_0x3671aa=_0x3ee278);}),_0x3d3bab[_0x5baa24(0x1fb)](_0x3671aa,-(0x1*-0xf61+0x5*0x67d+-0x110f))&&(_0x267f98[_0x3671aa][_0x5baa24(0x1db)]=_0x2898f9,fs[_0x5baa24(0x1a7)+_0x5baa24(0x1f1)](_0x2c02c0,JSON[_0x5baa24(0x1ef)](_0x267f98,null,-0x1933*0x1+0x1*0x19bf+-0x8a)));},addPremium=addPremiumUser,confirmlimit=(_0xd304c3,_0x5d4f80)=>{const _0x1e127f=_0x27846b,_0x4c4058={'DBydi':function(_0x426315,_0x55d039){return _0x426315===_0x55d039;},'ezwsX':_0x1e127f(0x1de)+_0x1e127f(0x191),'dhgwP':function(_0x5e4f55,_0x7b28b8){return _0x5e4f55!==_0x7b28b8;}},_0x4d6760=_0xd304c3[_0x1e127f(0x206)]('@')[-0x85f+-0x1063*0x1+0x2*0xc61]+_0x1e127f(0x1c6),_0x5b3bf4=path[_0x1e127f(0x1a0)](_0x4c4058[_0x1e127f(0x185)],_0x4d6760);let _0x4716d1=JSON[_0x1e127f(0x1b9)](fs[_0x1e127f(0x1d7)+'nc'](_0x5b3bf4)),_0x367687=-(-0x23*0xbb+0x1fc2+0x18c*-0x4);_0x4716d1[_0x1e127f(0x1ea)]((_0x2269fe,_0x21e77e)=>{const _0x28e67e=_0x1e127f;_0x4c4058[_0x28e67e(0x1ff)](_0x2269fe['id'],_0xd304c3)&&(_0x367687=_0x21e77e);}),_0x4c4058[_0x1e127f(0x1ac)](_0x367687,-(0xca1+0xa0b+-0x16ab*0x1))&&(_0x4716d1[_0x367687][_0x1e127f(0x1c1)]-=_0x5d4f80,fs[_0x1e127f(0x1a7)+_0x1e127f(0x1f1)](_0x5b3bf4,JSON[_0x1e127f(0x1ef)](_0x4716d1,null,0x3*0x593+0x59a+-0x1651)),msg[_0x1e127f(0x1a6)](_0x5d4f80+(_0x1e127f(0x1f8)+_0x1e127f(0x1aa))));},limitnya=await confirmlimit,resetLimits=async _0x16c549=>{const _0x98dd20=_0x27846b,_0x5a02df={'yFdQy':function(_0x7fd1d8,_0x3dd7dd){return _0x7fd1d8(_0x3dd7dd);},'eePqL':_0x98dd20(0x1de)+_0x98dd20(0x191),'KnTGP':_0x98dd20(0x1c6),'ugXSI':_0x98dd20(0x1cf)},_0x10fa80=_0x5a02df[_0x98dd20(0x1a8)],_0x3a5651=fs[_0x98dd20(0x1c2)+'c'](_0x10fa80);for(const _0x1feb8b of _0x3a5651){if(_0x1feb8b[_0x98dd20(0x1bf)](_0x5a02df[_0x98dd20(0x198)])){const _0x151dfb=path[_0x98dd20(0x1a0)](_0x10fa80,_0x1feb8b);try{const _0x45fbcb=JSON[_0x98dd20(0x1b9)](fs[_0x98dd20(0x1d7)+'nc'](_0x151dfb,_0x5a02df[_0x98dd20(0x1a3)])),_0x1bd6da=_0x45fbcb[_0x98dd20(0x1e1)](_0x323f5d=>{const _0xe3e417=_0x98dd20;return{..._0x323f5d,'limit':_0x5a02df[_0xe3e417(0x1f4)](parseInt,_0x16c549),'lastClaim':''};});fs[_0x98dd20(0x1a7)+_0x98dd20(0x1f1)](_0x151dfb,JSON[_0x98dd20(0x1ef)](_0x1bd6da,null,0x159b+-0x1b37*0x1+0x59e),_0x5a02df[_0x98dd20(0x1a3)]);}catch(_0x23973a){console[_0x98dd20(0x1ba)](_0x98dd20(0x203)+_0x98dd20(0x1a9)+_0x98dd20(0x1c9)+_0x98dd20(0x1bd)+_0x1feb8b+':',_0x23973a);}}}},confirmclaim=(_0x322b07,_0x149c4b)=>{const _0x1f7d98=_0x27846b,_0x5babfa={'ucLRp':function(_0x235982,_0x1a3934){return _0x235982===_0x1a3934;},'DuHPO':_0x1f7d98(0x1de)+_0x1f7d98(0x191),'pXbmZ':function(_0x4aac2b,_0x3fc6b8){return _0x4aac2b!==_0x3fc6b8;},'ZIrEx':function(_0x46b631,_0x389e56){return _0x46b631/_0x389e56;},'qMJbj':function(_0x244e5d,_0x1e3924){return _0x244e5d-_0x1e3924;},'YrwoK':function(_0x385986,_0x32b529){return _0x385986*_0x32b529;},'axOhy':function(_0x2c151a,_0x5c901a){return _0x2c151a<_0x5c901a;},'HxMaf':function(_0xcec0c5,_0x49e1c6){return _0xcec0c5-_0x49e1c6;},'vqDzF':_0x1f7d98(0x1d5)+_0x1f7d98(0x18a)+_0x1f7d98(0x1ca)},_0x4368b0=_0x322b07[_0x1f7d98(0x206)]('@')[0x1a04*-0x1+-0x1ed6+0x38da*0x1]+_0x1f7d98(0x1c6),_0x18ccbc=path[_0x1f7d98(0x1a0)](_0x5babfa[_0x1f7d98(0x197)],_0x4368b0);let _0x4e5c3a=JSON[_0x1f7d98(0x1b9)](fs[_0x1f7d98(0x1d7)+'nc'](_0x18ccbc)),_0x484b92=-(0x17*-0x22+-0x419+-0x728*-0x1);_0x4e5c3a[_0x1f7d98(0x1ea)]((_0x1ae897,_0xe5e0ab)=>{const _0x4bff3a=_0x1f7d98;_0x5babfa[_0x4bff3a(0x1eb)](_0x1ae897['id'],_0x322b07)&&(_0x484b92=_0xe5e0ab);});if(_0x5babfa[_0x1f7d98(0x18b)](_0x484b92,-(-0x4fd*-0x1+-0x80*0x3+-0x37c))){const _0x4b623a=new Date()[_0x1f7d98(0x1df)](),_0xe61866=new Date(_0x4e5c3a[_0x484b92][_0x1f7d98(0x18f)])[_0x1f7d98(0x1df)](),_0x4075a9=Math[_0x1f7d98(0x1d3)](_0x5babfa[_0x1f7d98(0x202)](_0x5babfa[_0x1f7d98(0x1f9)](_0x4b623a,_0xe61866),_0x5babfa[_0x1f7d98(0x1ab)](_0x5babfa[_0x1f7d98(0x1ab)](-0x18f9+-0x175e+0x343f,-0x884+-0x874*0x3+0xec*0x25),0x6b6+-0x5a7+-0xd3)));if(_0x5babfa[_0x1f7d98(0x1ae)](_0x4075a9,0x1a01+0x2076+0x11*-0x36f)){const _0x429ae7=_0x5babfa[_0x1f7d98(0x1d4)](0x392*-0x1+-0x14b*0x14+0x1d86,_0x4075a9);return msg[_0x1f7d98(0x1a6)](_0x1f7d98(0x1d0)+_0x1f7d98(0x1ee)+_0x1f7d98(0x1a5)+_0x1f7d98(0x1c4)+_0x429ae7+(_0x1f7d98(0x1b5)+_0x1f7d98(0x194)+_0x1f7d98(0x1b1)+_0x1f7d98(0x201)+_0x1f7d98(0x1fe)));}else return _0x4e5c3a[_0x484b92][_0x1f7d98(0x1c1)]+=_0x149c4b,_0x4e5c3a[_0x484b92][_0x1f7d98(0x18f)]=new Date()[_0x1f7d98(0x1a2)](),fs[_0x1f7d98(0x1a7)+_0x1f7d98(0x1f1)](_0x18ccbc,JSON[_0x1f7d98(0x1ef)](_0x4e5c3a,null,-0xa9f+0x20b9+-0x1618)),msg[_0x1f7d98(0x1a6)](_0x1f7d98(0x1e9)+_0x1f7d98(0x1ed)+_0x1f7d98(0x1e8)+_0x149c4b+(_0x1f7d98(0x19d)+_0x1f7d98(0x1e3)+_0x1f7d98(0x1f7)+_0x1f7d98(0x1f6)+_0x1f7d98(0x192)+_0x1f7d98(0x200)+'g.'));}else return _0x5babfa[_0x1f7d98(0x1a1)];},claim=await confirmclaim,checkBannedUser=_0x5c850d=>{const _0x2ae794=_0x27846b,_0x48d12b={'gowJU':_0x2ae794(0x1de)+_0x2ae794(0x191)},_0x2bbfe9=_0x5c850d[_0x2ae794(0x206)]('@')[0x81*0x30+0x5*0x3b3+-0xdf*0x31]+_0x2ae794(0x1c6),_0x23f9a9=path[_0x2ae794(0x1a0)](_0x48d12b[_0x2ae794(0x188)],_0x2bbfe9);try{const _0x1b60a4=JSON[_0x2ae794(0x1b9)](fs[_0x2ae794(0x1d7)+'nc'](_0x23f9a9)),_0x194967=_0x1b60a4[_0x2ae794(0x196)](_0x38d290=>_0x38d290['id']===_0x5c850d);return _0x194967?_0x194967[_0x2ae794(0x1c5)]:![];}catch(_0x2ae07d){return![];}},isBanned=checkBannedUser(sender),checkRegisteredUser=_0x5821ae=>{const _0x5a607e=_0x27846b,_0x2dad8d={'mXgjs':_0x5a607e(0x1de)+_0x5a607e(0x191)},_0x3af8f0=_0x5821ae[_0x5a607e(0x206)]('@')[0x160b+0x9*0x5a+-0x1935]+_0x5a607e(0x1c6),_0xffee9a=path[_0x5a607e(0x1a0)](_0x2dad8d[_0x5a607e(0x1cb)],_0x3af8f0);try{const _0x2fd389=JSON[_0x5a607e(0x1b9)](fs[_0x5a607e(0x1d7)+'nc'](_0xffee9a)),_0x5f08c3=_0x2fd389[_0x5a607e(0x196)](_0xa1c232=>_0xa1c232['id']===_0x5821ae);return _0x5f08c3?_0x5f08c3[_0x5a607e(0x187)]:![];}catch(_0x4fd5bd){return![];}},isRegister=checkRegisteredUser(sender),checkPremiumUser=_0x21e804=>{const _0x539a2f=_0x27846b,_0x48e0d6={'FqGII':_0x539a2f(0x1de)+_0x539a2f(0x191)},_0x193f8c=_0x21e804[_0x539a2f(0x206)]('@')[-0x8*-0x4c0+-0x32*-0xb6+0x498c*-0x1]+_0x539a2f(0x1c6),_0x5f4403=path[_0x539a2f(0x1a0)](_0x48e0d6[_0x539a2f(0x1c8)],_0x193f8c);try{const _0x1dd317=JSON[_0x539a2f(0x1b9)](fs[_0x539a2f(0x1d7)+'nc'](_0x5f4403)),_0x3a57eb=_0x1dd317[_0x539a2f(0x196)](_0xfdfe3d=>_0xfdfe3d['id']===_0x21e804);return _0x3a57eb?_0x3a57eb[_0x539a2f(0x1db)]:![];}catch(_0x2ca8ac){return![];}},isPremium=checkPremiumUser(sender),registering=_0x330ca0=>{const _0x3bc211=_0x27846b,_0x35c277={'rYFcf':_0x3bc211(0x1de)+_0x3bc211(0x191)},_0x2fcdf4=_0x35c277[_0x3bc211(0x1fd)],_0x4daeff=_0x330ca0['id'][_0x3bc211(0x206)]('@')[0x4*0x19b+-0x201c+0x19b0]+_0x3bc211(0x1c6),_0x5cffc2=path[_0x3bc211(0x1a0)](_0x2fcdf4,_0x4daeff);let _0x4cdf71=[];try{_0x4cdf71=JSON[_0x3bc211(0x1b9)](fs[_0x3bc211(0x1d7)+'nc'](_0x5cffc2));}catch(_0x49f1f4){fs[_0x3bc211(0x1a7)+_0x3bc211(0x1f1)](_0x5cffc2,'[]');}const _0x2358af=_0x4cdf71[_0x3bc211(0x196)](_0x3054c5=>_0x3054c5['id']===_0x330ca0['id']);_0x2358af?(_0x2358af[_0x3bc211(0x187)]=_0x330ca0[_0x3bc211(0x187)],_0x2358af[_0x3bc211(0x1f2)]=_0x330ca0[_0x3bc211(0x1f2)],_0x2358af[_0x3bc211(0x1e6)]=_0x330ca0[_0x3bc211(0x1e6)],_0x2358af[_0x3bc211(0x1b8)]=_0x330ca0[_0x3bc211(0x1b8)]):_0x4cdf71[_0x3bc211(0x1c3)](_0x330ca0),fs[_0x3bc211(0x1a7)+_0x3bc211(0x1f1)](_0x5cffc2,JSON[_0x3bc211(0x1ef)](_0x4cdf71,null,-0x89*0x1d+-0x1387*0x1+0x230e));},pluginsFolderPath=path[_0x27846b(0x1a0)](__dirname,_0x27846b(0x1e2)),pluginFiles=fs[_0x27846b(0x1c2)+'c'](pluginsFolderPath);for(const file of pluginFiles){if(file[_0x27846b(0x1bf)](_0x27846b(0x189))){const pluginFilePath=path[_0x27846b(0x1a0)](pluginsFolderPath,file),pluginModule=require(pluginFilePath);if(typeof pluginModule['on']===_0x27846b(0x1fa)||typeof pluginModule['on']===_0x27846b(0x1d1)){const isBanned=checkBannedUser(sender);if(isBanned&&!msg[_0x27846b(0x1ec)]){msg[_0x27846b(0x1a6)](mess[_0x27846b(0x1c5)]);break;}else await pluginModule['on'](msg,{'conn':conn,'command':command,'prefix':prefix,'args':args,'text':text,'setting':setting,'limitnya':limitnya,'ceklimit':ceklimit,'sendContact':sendContact,'checkLimitUser':checkLimitUser,'mess':mess,'claim':claim,'addLimit':addLimit,'isRegister':isRegister,'registering':registering,'makeid':makeid,'isOwner':isOwner,'isGroup':isGroup,'resetLimits':resetLimits,'addBanned':addBanned,'checkPremiumUser':checkPremiumUser,'isPremium':isPremium,'addPremium':addPremium,'addPremiumUser':addPremiumUser,'isImage':isImage,'isQuotedImage':isQuotedImage,'isQuotedSticker':isQuotedSticker,'webp2mp4File':webp2mp4File,'isSticker':isSticker,'getRandom':getRandom,'isQuotedVideo':isQuotedVideo,'isVideo':isVideo,'isQuotedAudio':isQuotedAudio,'groupName':groupName,'groupMembers':groupMembers,'groupAdmins':groupAdmins,'isGroupAdmins':isGroupAdmins,'participants':participants,'mentionUser':mentionUser,'bytesToSize':bytesToSize,'sleep':sleep});}}}conn[_0x27846b(0x19c)+'es']([msg[_0x27846b(0x1dc)]]),conn[_0x27846b(0x1b4)+_0x27846b(0x1f5)](_0x27846b(0x193),from);isGroup&&isCmd&&!fromMe&&console[_0x27846b(0x1ce)](colors[_0x27846b(0x18e)][_0x27846b(0x1a4)](_0x27846b(0x19e))+'\x20'+colors[_0x27846b(0x1af)](time)+'\x20'+colors[_0x27846b(0x1cd)][_0x27846b(0x1bc)](command)+'\x20'+colors[_0x27846b(0x18e)](_0x27846b(0x1b7))+'\x20'+colors[_0x27846b(0x1cc)](groupName));!isGroup&&isCmd&&!fromMe&&console[_0x27846b(0x1ce)](colors[_0x27846b(0x18e)][_0x27846b(0x1a4)](_0x27846b(0x195))+'\x20'+colors[_0x27846b(0x1af)](time)+'\x20'+colors[_0x27846b(0x1cd)][_0x27846b(0x1bc)](command)+'\x20'+colors[_0x27846b(0x18e)](_0x27846b(0x1b7))+'\x20'+colors[_0x27846b(0x1cc)](pushname));const chalk=require(_0x27846b(0x1b2)),talking=chats;function _0x401b(){const _0x147246=['pat\x20melaku','chalk','existsSync','sendPresen','\x20jam\x20lagi\x20','sender','from','seri','parse','error','writeFile','bgWhite','ntuk\x20file\x20','code','endsWith','2132528DkZlkD','limit','readdirSyn','push','nggu\x20','banned','.json','676Pvblxl','FqGII','t\x20limits\x20u','ditemukan.','mXgjs','blue','black','log','utf8','Kamu\x20sudah','object','iXkAt','floor','HxMaf','Data\x20pengg','vgdSI','readFileSy','1530512BrHcOX','990066rrsEvN','mkdirSync','premium','key','VgPXA','./database','getTime','xHxkc','map','plugins','mu\x20Bisa\x20me','amount','ENOENT','umur','oMFNC','\x20dapat\x20','Claim\x20berh','forEach','ucLRp','fromMe','asil.\x20Kamu','\x20melakukan','stringify','RDyqS','ync','nama','length','yFdQy','ceUpdate','aim\x20lagi\x20d','lakukan\x20cl','\x20Limit\x20Ter','qMJbj','function','aOnnC','49WONGqU','rYFcf','kembali.','DBydi','m\x20mendatan','kan\x20claim\x20','ZIrEx','Gagal\x20mela','white','TQoeY','split','2502819ULUZwt','aFlUp','ezwsX','dKkTC','registered','gowJU','.js','una\x20tidak\x20','pXbmZ','116502XWkWmB','readFile','green','lastClaim','1336710JoUNKt','/userdata','alam\x2024\x20ja','recording','sebelum\x20da','Private','find','DuHPO','KnTGP','fJpIf','SFAMk','467nnDyih','readMessag','\x20Limit\x20\x0aKa','Group','StVIT','join','vqDzF','toJSON','ugXSI','bold','\x20claim.\x20Tu','reply','writeFileS','eePqL','kukan\x20rese','pakai\x20√','YrwoK','dhgwP','wcoma','axOhy','brightCyan','eBAxk'];_0x401b=function(){return _0x147246;};return _0x401b();}function _0x1711(_0x332e8b,_0x46ddb1){const _0x3d57ca=_0x401b();return _0x1711=function(_0xead834,_0x4afb68){_0xead834=_0xead834-(-0x54*0x4c+-0x19a5+0x3419);let _0x30c7a6=_0x3d57ca[_0xead834];return _0x30c7a6;},_0x1711(_0x332e8b,_0x46ddb1);}console[_0x27846b(0x1ce)](chalk[_0x27846b(0x1cd)][_0x27846b(0x1bc)](''+pushname)),console[_0x27846b(0x1ce)](chalk[_0x27846b(0x204)][_0x27846b(0x1a4)](talking));

/**
Ambil Nilai Yang Ada Disini Jika Di Butuhkan Untuk Membuat Fitur Atau plugins baru agar tidak meng kontruksi lagi dan lihat contoh plugins sebelum nya
dan penting! jangan membuat dan menambahkan fungsi baru dan di tambahkan ke bagian return  jadi buat fitur baru atau plugin baru saja
**/
return { 
  conn,
  msg,
  command,
  setting,
  prefix,
  args,
  text,
  sendContact,
  limitnya,
  ceklimit,
  mess,
  claim,
  checkLimitUser,
  addLimit,
  registering,
  isRegister,
  makeid,
  isOwner,
  isGroup,
  resetLimits,
  addBanned,
  checkPremiumUser,
  isPremium,
  addPremiumUser,
  addPremium,
  isImage,
  isQuotedImage,
  isQuotedSticker,
  webp2mp4File,
  isSticker,
  getRandom,
  isQuotedVideo,
  isVideo,
  isQuotedAudio,
  groupName,
  isGroupAdmins,
  groupMembers,
  groupAdmins,
  participants,
  mentionUser,
  bytesToSize,
  sleep   
  };
} catch (err) {
console.log(color('ERROR', 'red'), err)
}}
